<!doctype html>
<html>

<head>
    <meta charset=utf-8>
    <link rel="icon shortcut" href=img/logo.png type=image/png>
    <link rel=apple-touch-icon href=img/logo.png>
    <link rel=stylesheet href=https://cdn.bootcss.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css>
    <link rel=stylesheet href=https://cdn.bootcss.com/tether/1.4.3/css/tether.min.css>
    <link rel=stylesheet href=css/base.css>
    <link rel=stylesheet href=css/home.css>
    <link rel=stylesheet href=css/ui-block.css>
    <meta name=viewport content="width=device-width">
    <title>星云链测试网 | Nebulas Testnet</title>

    <style>
        .hash {
            height: 400px;
            box-shadow: 16px 16px 47px 2px rgba(0, 0, 0, .07);
            padding: 1.5rem 2rem;
            min-height: 1.5rem;
            margin: 1rem auto;
            position: relative;
            text-align: center;
        }

        .information {
            height: 830px;
            box-shadow: 16px 16px 47px 2px rgba(0, 0, 0, .07);
            padding: 1.5rem 2rem;
            min-height: 1.5rem;
            margin: 1rem auto;
            position: relative;
            text-align: center;
        }

        .active {
            display: none;
        }

        .errmsg {
            color: red;
        }
        
        .table tr>td:first-child{
            text-align: left;
        }
    </style>

</head>

<body>
    <div class="logo-main"></div>
    <div class="header"></div>

    <section class="hash">
        <article class="row"></article>
        <section class="col-xs-12 col-sm-8 col-sm-offset-2 text-center">
            <h1 translate="NAV_CheckTxStatus" class="ng-scope">Check TX Status</h1>
            <p translate="tx_Summary" class="ng-scope">During times of high volume (like during ICOs) transactions can be pending for hours, if not days. This tool
                aims to give you the ability to find and "cancel" / replace these TXs.
                <strong> This is not typically something you can do. It should not be relied upon &amp; will only work when the TX
                    Pools are full.
                    <a target="_blank" rel="noopener noreferrer" href="https://myetherwallet.github.io/knowledge-base/transactions/check-status-of-ethereum-transaction.html">Please, read about this tool here.</a>
                </strong>
            </p>
        </section>
        <section class="col-xs-12 col-sm-6 col-sm-offset-3 text-center">
            <input id="input" class="form-control" type="text" placeholder="...... ......">
            <button id="btn" tabindex="0" role="button" class="btn btn-primary ng-scope">Check TX Status</button>
            <br>
            <span class="errmsg active">Please enter a valid TX hash</span>
        </section>
        </article>
    </section>

    <section class="information active" id="info">
        <div class="cont-md" ng-show="txInfo.status == txStatus.mined">
            <h3 class="text-success ng-scope" translate="tx_FoundOnChain">Transaction Found</h3>
            <h5>
                <a href="https://etherscan.io/tx/" target="_blank" rel="noopener noreferrer" class="ng-binding"> </a>
            </h5>
            <p>
                <strong translate="tx_FoundOnChain_1" class="ng-scope">Your transaction was successfully mined and is on the blockchain.</strong>
            </p>
            <ul>
                <li translate="tx_FoundOnChain_2" class="ng-scope">
                    <strong>If you see a red
                        <code>( ! )</code>, a
                        <code>BAD INSTRUCTION</code> or
                        <code>OUT OF GAS</code> error message</strong>, it means that the transaction was not successfully
                    <em>sent</em>. You cannot cancel or replace this transaction. Instead, send a new transaction. If you received
                    an "Out of Gas" error, you should double the gas limit you specified originally.</li>
                <li translate="tx_FoundOnChain_3" class="ng-scope">
                    <strong>If you do not see any errors, your transaction was successfully sent.</strong> Your ETH or Tokens are
                    where you sent them. If you cannot see this ETH or Tokens credited in your other wallet / exchange account,
                    and it has been 24+ hours since you sent, please
                    <a target="_blank" rel="noopener noreferrer" href="https://myetherwallet.github.io/knowledge-base/diving-deeper/ethereum-list-of-support-and-communities.html">contact that service</a>. Send them the
                    <em>link</em> to your transaction and ask them, nicely, to look into your situation.</li>
            </ul>
        </div>

        <div ng-show="txInfo.status == txStatus.found || txInfo.status == txStatus.mined" class="">
            <h4 translate="tx_Details" class="cont-md ng-scope">Transaction Details</h4>
            <br>
            <table class="table table-striped txstatus__2 cont-md">
                <!-- ng-show="tx.status=='foundOnChain' || foundInPending'"-->
                <tbody>
                    <tr>
                        <td translate="x_TxHash" class="ng-scope">TX Hash</td>
                        <td>
                            <a href="#" target="_blank" rel="noopener noreferrer" class="tx_hash">

                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td translate="OFFLINE_Step1_Label_1" class="ng-scope">From Address</td>
                        <td>
                            <a href="#" target="_blank" rel="noopener noreferrer" class="from_address">

                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td translate="OFFLINE_Step2_Label_1" class="ng-scope">To Address</td>
                        <td>
                            <a href="#" target="_blank" rel="noopener noreferrer" class="to_address">

                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td translate="SEND_amount_short" class="ng-scope">Amount</td>
                        <td class="value">

                        </td>
                    </tr>
                    <tr>
                        <td>
                            <a class="account-help-icon" href="#" target="_blank" rel="noopener noreferrer">
                            </a>
                            <span translate="OFFLINE_Step2_Label_5" class="ng-scope">Nonce</span>
                        </td>
                        <td class="nonce">

                        </td>
                    </tr>
                    <tr>
                        <td>
                            <a class="account-help-icon" href="#" target="_blank" rel="noopener noreferrer">
                            </a>
                            <span translate="OFFLINE_Step2_Label_4" class="ng-scope">Gas Limit</span>
                        </td>
                        <td class="gasLimit">

                        </td>
                    </tr>
                    <tr>
                        <td>
                            <a class="account-help-icon" href="#" target="_blank" rel="noopener noreferrer">
                            </a>
                            <span translate="OFFLINE_Step2_Label_3" class="ng-scope">Gas Price</span>
                        </td>
                        <td class="gasPrice">

                        </td>
                    </tr>
                    <tr>
                        <td translate="OFFLINE_Step2_Label_6" class="ng-scope">Data</td>
                        <td class="data">

                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <div class="footer"></div>

    <div class="modal fade" tabindex="-1" id="info" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title">info</h4>
                </div>
                <div class="modal-body">
                    <p>unlocking&hellip;</p>
                </div>
            </div>
        </div>
    </div>

    <script src=https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js></script>
    <script src=https://cdn.bootcss.com/tether/1.4.3/js/tether.min.js></script>
    <script src=https://cdn.bootcss.com/bootbox.js/4.4.0/bootbox.min.js data-depends=jquery></script>
    <script src=https://cdn.bootcss.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js data-depends="jquery tether"></script>
    <script src=js/api.js data-depends=jquery></script>
    <script src=js/home.v1.js></script>
    <script src=js/ui-block.js data-depends="bootbox jquery wallet.js"></script>
    <script src=js/wallet.js></script>
    <script>
        $(function () {

            uiBlock({
                footer: ".footer",
                header: ".header",
                logoMain: ".logo-main"
            });


            $("#btn").click(function () {
                if ($("#input").val().length < 46) {
                    $(".errmsg").removeClass("active");
                    setTimeout(function () {
                        $(".errmsg").addClass("active");
                    }, 2000);
                } else {

                    api.getTx($("#input").val())
                        .then(done, fail);

                }
            });
        });

        function done(o) {
            // alert('请求成功');
            console.log(o);
            $("#info").removeClass("active");
            $(".tx_hash").append(o.data.hash);
            $(".from_address").append(o.data.from.hash);
            $(".to_address").append(o.data.to.hash);
            $(".nonce").append(o.data.nonce);
            $(".gasLimit").append(o.data.gasLimit);
            $(".gasPrice").append(o.data.gasPrice);
            $(".data").append(o.data.data);
            $(".value").append(o.data.value);
        }

        function fail() {
        }
    </script>

</body>

</html>